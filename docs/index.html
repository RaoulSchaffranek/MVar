<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MVar Docs | MVar</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/MVar/assets/css/0.styles.a1d65989.css" as="style"><link rel="preload" href="/MVar/assets/js/app.3d3fd7c4.js" as="script"><link rel="preload" href="/MVar/assets/js/2.ab6e7406.js" as="script"><link rel="preload" href="/MVar/assets/js/6.8bcac35b.js" as="script"><link rel="prefetch" href="/MVar/assets/js/3.ba0c6efb.js"><link rel="prefetch" href="/MVar/assets/js/4.59116900.js"><link rel="prefetch" href="/MVar/assets/js/5.f8a32817.js"><link rel="prefetch" href="/MVar/assets/js/7.97760cdd.js">
    <link rel="stylesheet" href="/MVar/assets/css/0.styles.a1d65989.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/MVar/" class="home-link router-link-active"><!----> <span class="site-name">MVar</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/MVar/" class="nav-link">Home</a></div><div class="nav-item"><a href="/MVar/docs/" class="nav-link router-link-exact-active router-link-active">Docs</a></div><div class="nav-item"><a href="https://github.com/RaoulSchaffranek/MVar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/MVar/" class="nav-link">Home</a></div><div class="nav-item"><a href="/MVar/docs/" class="nav-link router-link-exact-active router-link-active">Docs</a></div><div class="nav-item"><a href="https://github.com/RaoulSchaffranek/MVar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MVar Docs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/MVar/docs/#introduction" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MVar/docs/#why-mvar" class="sidebar-link">Why MVar?</a></li><li class="sidebar-sub-header"><a href="/MVar/docs/#why-not" class="sidebar-link">Why not?</a></li></ul></li><li><a href="/MVar/docs/#installation" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/MVar/docs/#importing" class="sidebar-link">Importing</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/MVar/docs/#example" class="sidebar-link">Example</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/MVar/docs/#api" class="sidebar-link">API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MVar/docs/#mvar-newempty" class="sidebar-link">MVar.newEmpty</a></li><li class="sidebar-sub-header"><a href="/MVar/docs/#mvar-new" class="sidebar-link">MVar.new</a></li><li class="sidebar-sub-header"><a href="/MVar/docs/#mvar-prototype-take" class="sidebar-link">MVar.prototype.take</a></li><li class="sidebar-sub-header"><a href="/MVar/docs/#mvar-prototype-put" class="sidebar-link">MVar.prototype.put</a></li><li class="sidebar-sub-header"><a href="/MVar/docs/#mvar-prototype-read" class="sidebar-link">MVar.prototype.read</a></li><li class="sidebar-sub-header"><a href="/MVar/docs/#mvar-prototype-swap" class="sidebar-link">MVar.prototype.swap</a></li><li class="sidebar-sub-header"><a href="/MVar/docs/#mvar-prototype-trytake" class="sidebar-link">MVar.prototype.tryTake</a></li><li class="sidebar-sub-header"><a href="/MVar/docs/#mvar-prototype-tryput" class="sidebar-link">MVar.prototype.tryPut</a></li><li class="sidebar-sub-header"><a href="/MVar/docs/#mvar-prototype-isempty" class="sidebar-link">MVar.prototype.isEmpty</a></li><li class="sidebar-sub-header"><a href="/MVar/docs/#mvar-prototype-tryread" class="sidebar-link">MVar.prototype.tryRead</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mvar-docs"><a href="#mvar-docs" class="header-anchor">#</a> MVar Docs</h1> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>MVar is a low-level library for concurrent programming in TypeScript and JavaScript. It provides a single data type of the same name. An <code>MVar</code> represents an abstract resource that can be shared by multiple concurrent tasks. Access-operations on MVars are atomic and serve as synchronization primitives between concurrent tasks.</p> <p>An <code>MVar</code> is always in one of two states: It's either empty or holds some value. The two most important operations are <code>put</code> for writing to the MVar and <code>take</code> for reading its contents. Unlike traditional variables, the <code>put</code> methods first checks if the <code>MVar</code> is currently empty. If that's the case, then <code>put</code> writes the supplied value to the <code>MVar</code>; otherwise, it queues the value for later consumption. Similarly, <code>take</code> first checks if the <code>MVar</code> is currently full. In that case, <code>take</code> returns the contents wrapped in a promise which is synchronously resolved. Otherwise, <code>take</code> returns a promise, which is resolved as soon as the <code>MVar</code> becomes full. When the promise resolves, the <code>MVar</code> contents are replaced with the next value, that was queued by <code>put</code> if one is available; otherwise, it's left empty.</p> <h3 id="why-mvar"><a href="#why-mvar" class="header-anchor">#</a> Why MVar?</h3> <p>MVar is developed as part of a runtime-system-extension for another programming-language called Idris. Existing concurrency libraries were either too heavyweight or too high-level for this purpose. Thus, the goal of MVar is to support library-authors and compiler-implementors to provide higher-level concurrency abstractions.</p> <h3 id="why-not"><a href="#why-not" class="header-anchor">#</a> Why not?</h3> <p>Application-developers, on the other hand, are advised to choose a higher-level library for concurrency. For instance, a redux-store is very similar to a MVar. It also synchronizes control-flow and additionally manages application-state through state-reducers.</p> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>MVar is available as a npm-package.</p> <p>When using npm:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i mvar
</code></pre></div><p>When using yarn:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> mvar
</code></pre></div><h2 id="importing"><a href="#importing" class="header-anchor">#</a> Importing</h2> <p>TypeScript / ES6</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>MVar<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mvar'</span>
</code></pre></div><p>ES5 (CommonJS)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> MVar <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mvar'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>MVar
</code></pre></div><p>ES5 (UMD build)</p> <div class="language-js extra-class"><pre class="language-js"><code>MVar<span class="token punctuation">.</span>MVar
</code></pre></div><h2 id="example"><a href="#example" class="header-anchor">#</a> Example</h2> <p>Let's write a simple counter-application using MVar. The application will have
buttons to increment and decrement the counter. We will use an MVar to mediate
the button-clicks through a synchronized communication-channel and implement
an explicit event-loop on top of it:</p> <iframe src="https://stackblitz.com/edit/mvar-counter?embed=1&amp;file=index.ts&amp;hideExplorer=1" style="width:100%;min-height:41rem;"></iframe> <h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <h3 id="mvar-newempty"><a href="#mvar-newempty" class="header-anchor">#</a> <code>MVar.newEmpty</code></h3> <p>Create a MVar which is initially empty.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> mvar <span class="token operator">=</span> MVar<span class="token punctuation">.</span><span class="token function">newEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="mvar-new"><a href="#mvar-new" class="header-anchor">#</a> <code>MVar.new</code></h3> <p>Create a MVar which contains the supplied value.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> mvar <span class="token operator">=</span> MVar<span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
</code></pre></div><h3 id="mvar-prototype-take"><a href="#mvar-prototype-take" class="header-anchor">#</a> <code>MVar.prototype.take</code></h3> <p>Return the contents of the MVar wrapped in a promise.</p> <p>If the MVar is empty, the promise resolves once the MVar becomes full.
If the MVar is full, the returned promise resolves synchronously
with the contents.</p> <p>When the promise is resolved, the MVar is left empty.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>mvar<span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="mvar-prototype-put"><a href="#mvar-prototype-put" class="header-anchor">#</a> <code>MVar.prototype.put</code></h3> <p>Put a value into a MVar.</p> <p>If the MVar is empty, sets the contents of the MVar.
If the MVar is full, queues the value until the MVar becomes empty.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>mvar<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
</code></pre></div><h3 id="mvar-prototype-read"><a href="#mvar-prototype-read" class="header-anchor">#</a> <code>MVar.prototype.read</code></h3> <p>Read the contents of a MVar wrapped in a promise.</p> <p>If the MVar is empty, the returned promise is resolved once the MVar
becomes full.
If the MVar is full, the returned promise is synchronously
resolved with the contents.</p> <p>Read does not alter the contents of the MVar.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>mvar<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="mvar-prototype-swap"><a href="#mvar-prototype-swap" class="header-anchor">#</a> <code>MVar.prototype.swap</code></h3> <p>Take a value from a MVar, put a new value into the MVar and return the old value wrapped in a promise.</p> <p>If the MVar is empty, the promise resolves once the MVar becomes full.
If the MVar is full, the returned promise resolves synchronously
with the contents.</p> <p>Queues the supplied value for later consumption.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>mvar<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
</code></pre></div><h3 id="mvar-prototype-trytake"><a href="#mvar-prototype-trytake" class="header-anchor">#</a> <code>MVar.prototype.tryTake</code></h3> <p>A synchronous version of take.</p> <p>If the MVar is empty, throws an exception.
If the MVar is full, returns the contents of the MVar.</p> <p>After tryTake executed, the MVar is left empty.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>mvar<span class="token punctuation">.</span><span class="token function">tryTake</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="mvar-prototype-tryput"><a href="#mvar-prototype-tryput" class="header-anchor">#</a> <code>MVar.prototype.tryPut</code></h3> <p>A synchronous version of put.</p> <p>If the MVar is empty, sets the contents of the MVar and returns true.
If the MVar is full, does nothing and returns false</p> <div class="language-ts extra-class"><pre class="language-ts"><code>mvar<span class="token punctuation">.</span><span class="token function">tryPut</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
</code></pre></div><h3 id="mvar-prototype-isempty"><a href="#mvar-prototype-isempty" class="header-anchor">#</a> <code>MVar.prototype.isEmpty</code></h3> <p>Check whether a given MVar is empty.</p> <p>If the MVar is empty, returns true.
If the MVar is full, returns false.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>mvar<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="mvar-prototype-tryread"><a href="#mvar-prototype-tryread" class="header-anchor">#</a> <code>MVar.prototype.tryRead</code></h3> <p>A synchronous version of read.</p> <p>If the MVar is empty, throws an exception.
If the MVar is full, returns the contents of the MVar.</p> <p>tryRead does not alter the contents of the MVar.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>mvar<span class="token punctuation">.</span><span class="token function">tryRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/MVar/assets/js/app.3d3fd7c4.js" defer></script><script src="/MVar/assets/js/2.ab6e7406.js" defer></script><script src="/MVar/assets/js/6.8bcac35b.js" defer></script>
  </body>
</html>
